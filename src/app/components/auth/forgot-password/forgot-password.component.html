<div class="auth-container">
  <div class="auth-form">
    <div class="back-link">
      <a routerLink="/login">
        <i class="fas fa-arrow-left"></i> Atgriezties pie ielogošanās
      </a>
    </div>

    @if (!emailSent()) {
      <h1>Aizmirsi paroli?</h1>
      <p class="auth-subtitle">Ievadi savu e-pasta adresi un mēs nosūtīsim tev paroles atiestatīšanas saiti.</p>

      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email">E-pasta adrese</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [appValidationError]="isSubmitted()"
            placeholder="Ievadi savu e-pasta adresi">
        </div>

        <button
          type="submit"
          class="btn"
          [appButtonLoader]="isLoading()">
          Nosūtīt atiestatīšanas saiti
        </button>
      </form>

      <div class="auth-links">
        <span>Atcerējies paroli?</span>
        <a routerLink="/login">Ielogojies</a>
      </div>
    } @else {
      <div class="success-message">
        <h1>📧 E-pasts nosūtīts!</h1>
        <p>Ja e-pasta adrese eksistē mūsu sistēmā, tu saņemsi paroles atiestatīšanas instrukcijas.</p>
        <p class="small-text">Pārbaudi arī savu spam/junk mapi.</p>

        <button class="btn" (click)="backToLogin()">
          Atgriezties pie ielogošanās
        </button>
      </div>
    }
  </div>
</div>
